--- media/libmediaplayerservice/StagefrightRecorder.cpp
+++ media/libmediaplayerservice/StagefrightRecorder.cpp
@@ -1339,9 +1339,6 @@
 
 status_t StagefrightRecorder::checkVideoEncoderCapabilities(
         bool *supportsCameraSourceMetaDataMode) {
-#ifdef USE_SUBMIT_ONE_INPUT_BUFFER
-        *supportsCameraSourceMetaDataMode = true;
-#else
     /* hardware codecs must support camera source meta data mode */
     Vector<CodecCapabilities> codecs;
     OMXClient client;
@@ -1729,9 +1725,6 @@
     uint32_t flags = 0;
     if (mIsMetaDataStoredInVideoBuffers) {
         flags |= MediaCodecSource::FLAG_USE_METADATA_INPUT;
-#ifdef USE_SUBMIT_ONE_INPUT_BUFFER
-        flags |= MediaCodecSource::FLAG_USE_SUBMIT_ONE_INPUT_BUFFER;
-#endif
     }
 
     if (cameraSource == NULL) {
